# 数据论文 - 元素识别规则

document:
  classifiers:
    # 1. 论文标题（第一段）
    - class: title
      match:
        type: paragraph
        position:
          type: absolute
          index: 0 # 绝对定位：文档的第 0 个段落

    # 2. 作者区域（复合区域：标题和摘要之间）
    - class: author-section
      match:
        type: paragraph
        position:
          type: relative # 相对定位：相对于 title 和 abstract
          index: (title, abstract) # 开区间：不包含 title 和 abstract 本身
      # 作者区域内的子元素（使用相对定位）
      children:
        # 第一个元素：作者列表（包含逗号或顿号）
        - class: author-list
          match:
            position:
              type: relative # 相对定位：相对于父区域
              index: first # 父区域的第一个
            pattern: ".*[,，、].*"

        # 中间元素：作者单位
        # 位于 author-list 和 corresponding-author 之间
        - class: author-affiliation
          match:
            position:
              type: relative # 相对定位：相对于父区域
              index: (author-list, corresponding-author) # 开区间：不包含首尾

        # 最后一个元素：通信作者（以*开头）
        - class: corresponding-author
          match:
            position:
              type: relative # 相对定位：相对于父区域
              index: last # 父区域的最后一个
            pattern: "^\\*"

    # 3. 中文摘要（以"摘要："开头的段落，包含完整摘要内容）
    - class: abstract
      match:
        type: paragraph
        pattern: "^摘要："

    # 4. 关键词（以"关键词："开头的段落，包含完整关键词列表）
    - class: keywords
      match:
        type: paragraph
        pattern: "^关键词："

    # 5. 英文标题（紧跟在关键词之后的第一个段落）
    - class: title-en
      match:
        type: paragraph
        after:
          class: keywords
          offset: 0 # 紧跟在 keywords 之后

    # 6. 英文作者信息（复合结构，位于英文标题和英文摘要之间）
    - class: author-section-en
      match:
        type: paragraph
        position:
          type: relative
          index: (title-en, abstract-en)
      children:
        # 第一个元素：英文作者列表
        - class: author-list-en
          match:
            position:
              type: relative
              index: first

        # 中间元素：英文作者单位
        - class: author-affiliation-en
          match:
            position:
              type: relative
              index: (author-list-en, corresponding-author-en)

        # 最后一个元素：通讯作者邮箱（以*开头）
        - class: corresponding-author-en
          match:
            position:
              type: relative
              index: last

    # 7. 英文摘要（以"Abstract:"开头的段落，包含完整摘要内容）
    - class: abstract-en
      match:
        type: paragraph
        pattern: "^Abstract:"

    # 8. 英文关键词（以"Keywords:"开头的段落，包含完整关键词列表）
    - class: keywords-en
      match:
        type: paragraph
        pattern: "^Keywords:"

    # 7. 引言标题（特殊的一级标题，内容为"引  言"或"概  述"）
    # 注意：可能前面有空格，中间也有空格
    - class: heading-introduction
      match:
        type: paragraph
        pattern: "^\\s*(引\\s+言|概\\s+述)"

    # 8. 致谢标题（特殊的一级标题，内容为"致  谢"）
    # 注意：可能前面有空格，中间也有空格
    - class: heading-acknowledgments
      match:
        type: paragraph
        pattern: "^\\s*致\\s+谢"

    # 9. 数据作者分工职责标题（特殊的一级标题）
    # 内容：固定为"数据作者分工职责"
    - class: heading-author-contributions
      match:
        type: paragraph
        pattern: "^\\s*数据作者分工职责"

    # 11. 一级标题（如"1  数据采集和处理方法"）
    # 格式：数字 + 空格 + 标题内容
    # 注意：可能有多个空格
    - class: heading-1
      match:
        type: paragraph
        pattern: "^\\d+\\s+\\S+"

    # 12. 二级标题（如"1.1  数据来源与组成"）
    # 格式：数字.数字 + 空格 + 标题内容
    - class: heading-2
      match:
        type: paragraph
        pattern: "^\\d+\\.\\d+\\s+\\S+"

    # 13. 三级标题（如"1.1.1  详细内容"）
    # 格式：数字.数字.数字 + 空格 + 标题内容
    - class: heading-3
      match:
        type: paragraph
        pattern: "^\\d+\\.\\d+\\.\\d+\\s+\\S+"

    # 14. 参考文献标题（可能有冒号或没有）
    - class: references-title
      match:
        type: paragraph
        pattern: "^参考文献：?"
