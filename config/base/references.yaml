## 参考文献基线规则
##
## 条件规则：如果文档存在参考文献章节，进行双向检查
## - REF-001: 检查参考文献列表中的每个文献是否在正文中被引用
## - REF-002: 检查正文中的每个引用是否在参考文献列表中存在
##
## 注意：这两个规则都是条件规则，只在文档包含"参考文献"章节时才会检查
##
version: "vnext"

rules:
  # ============================================================================
  # 参考文献被引用检查（列表 → 正文）
  # ============================================================================
  - id: "REF-001"
    enabled: true
    params:
      description: "参考文献必须在正文中被引用"
      check_superscript_citation: true  # 是否检查上标引用（目前简化版只检查 [数字] 格式）
      reference_heading: "参考文献"  # 参考文献章节的标题文本
      citation_pattern: "^\\[\\d+(-\\d+)?(,\\s*\\d+)*\\]$"  # 引用模式（支持 [1]、[1-3]、[1,2] 等）

  # ============================================================================
  # 引用有效性检查（正文 → 列表）
  # ============================================================================
  - id: "REF-002"
    enabled: true
    params:
      description: "正文引用必须在参考文献列表中存在"
      reference_heading: "参考文献"  # 参考文献章节的标题文本
      citation_pattern: "\\[(\\d+)\\]"  # 引用模式（提取引用编号）
